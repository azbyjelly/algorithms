import random

arq = open("palavras-boas.txt")
linhas = arq.readlines()
palavra = " "
while len(palavra) > 5:
    sorteio = random.randint(0,len(linhas)) - 1
    palavra = linhas[sorteio].strip()

print("Bem-vindo ao jogo da forca!")
print("A palavra tem", len(palavra), "letras.")

tentativas = set()
tentativas_incorretas = 0
game_over = False

while tentativas_incorretas < 6 and not game_over:
    letra = input("Digite uma letra: ").casefold()
    if letra in tentativas:
        print("Você já tentou essa letra. Tente outra.")
        continue
    if len(letra) != 1:
        print("Digite apenas uma letra.")
        continue
    if not letra.isalpha():
        print("Digite apenas letras.")
        continue

    tentativas.add(letra)

    if letra not in palavra:
        tentativas_incorretas += 1
        print("Incorreto. Você tem", 6 - tentativas_incorretas, "tentativas restantes.")
    else:
        acertos = [letra if letra in tentativas else '_' for letra in palavra]
        print(" ".join(acertos))
        if "_" not in acertos:
            print("Parabéns! Você adivinhou a palavra.")
            game_over = True

if tentativas_incorretas == 6:
    print("Você perdeu. A palavra era", palavra)

arq.close()
